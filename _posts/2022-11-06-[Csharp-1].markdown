---
layout: post
title: "[C#] ë¸ë¦¬ê²Œì´íŠ¸ Delegate"
date: 2022-11-13 15:27:32 +09:00
excerpt: "ë­ì–´? ë©”ì„œë“œì— ë©”ì„œë“œë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤ê³ ? <br>2022-11-13"
csharp: true
categories: csharp
comments: true
---

# ğŸ“Œ ë¸ë¦¬ê²Œì´íŠ¸(Delegate)

---

<!-- <figure>
    <a href="/assets/img/cs/2022-08-07/server.png"><img src="/assets/img/cs/2022-08-08/server.png"></a>
    <figcaption style="text-align:center"></figcaption>
</figure> -->

<br>
<br>

# ì£¼ì œ: ë¸ë¦¬ê²Œì´íŠ¸(Delegate)

### ë¸ë¦¬ê²Œì´íŠ¸ê°€ ë­”ë°ìš”?

> ëŒ€ë¦¬ìëŠ” íŠ¹ì • ë§¤ê°œ ë³€ìˆ˜ ëª©ë¡ ë° ë°˜í™˜ í˜•ì‹ì´ ìˆëŠ” ë©”ì„œë“œì— ëŒ€í•œ ì°¸ì¡°ë¥¼ ë‚˜íƒ€ë‚´ëŠ” í˜•ì‹ì…ë‹ˆë‹¤. ëŒ€ë¦¬ìë¥¼ ì¸ìŠ¤í„´ìŠ¤í™”í•˜ë©´ ëª¨ë“  ë©”ì„œë“œê°€ ìˆëŠ” ì¸ìŠ¤í„´ìŠ¤ë¥¼ í˜¸í™˜ë˜ëŠ” ì‹œê·¸ë‹ˆì²˜ ë° ë°˜í™˜ í˜•ì‹ì— ì—°ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ëŒ€ë¦¬ì ì¸ìŠ¤í„´ìŠ¤ë¥¼ í†µí•´ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. - Microsoft Learn -

ìš°ë¦¬ ë§ë¡œ ë²ˆì—­í•˜ë©´ 'ëŒ€ë¦¬ì'ë¡œ ë²ˆì—­ëœë‹¤.

ì§€ê¸ˆ ë‹¹ì¥ìœ¼ë¡œëŠ” ì´í•´í•  ìˆ˜ ì—†ëŠ” ì„¤ëª…ì´ì§€ë§Œ, ê²°ë¡ ì ìœ¼ë¡œ ë¸ë¦¬ê²Œì´íŠ¸ì˜ ì¡´ì¬ ëª©ì ì€ **ë©”ì„œë“œë¥¼ ë‹¤ë¥¸ ë©”ì„œë“œë¡œ ì „ë‹¬í•  ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•´** ë§Œë“¤ì–´ ì¡Œë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤.

ë¸ë¦¬ê²Œì´íŠ¸ëŠ” **ë©”ì„œë“œì˜ ì…ë ¥ íŒŒë¼ë¯¸í„°ë¡œ í”¼í˜¸ì¶œìì—ê²Œ ì „ë‹¬**ë  ìˆ˜ ìˆì„ ë¿ë§Œ ì•„ë‹ˆë¼, **ë©”ì„œë“œì˜ ë¦¬í„´ê°’ìœ¼ë¡œ í˜¸ì¶œìì—ê²Œ ì „ë‹¬**ë  ìˆ˜ë„ ìˆë‹¤.

<br>
<br>

### ì–´ë–»ê²Œ ìƒê²¼ë‚˜ìš”?

ì•„ë˜ëŠ” ë¸ë¦¬ê²Œì´íŠ¸ë¥¼ ì •ì˜í•˜ëŠ” ë°©ë²•ì´ë‹¤.

```csharp
// ë¸ë¦¬ê²Œì´íŠ¸ ì •ì˜
delegate string MyTestDG(int num);

// í•™ìƒ í´ë˜ìŠ¤
internal class Student
{
    public int Id { get; set; }
    public string? Name { get; set; }

    // í•™ìƒ ì´ë¦„ì„ nê¸€ì ë¶ˆëŸ¬ì˜¤ëŠ” ë©”ì„œë“œ
    public string getName(int num)
    {
        string result = string.Empty;

        return Name.Substring(0, num);
    }
}

```

classì²˜ëŸ¼ í‚¤ì›Œë“œ `delegate`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì„ ì–¸í•œë‹¤.
ìœ„ì˜ ì˜ˆì‹œì—ì„œ return typeì´ `string`, input paramaterê°€ `int` typeì¸ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

ë¸ë¦¬ê²Œì´íŠ¸ì—ì„œ ë¦¬í„´íƒ€ì…ê³¼ ì…ë ¥ íŒŒë¼ë¯¸í„°ê°€ ë¬´ì—‡ì„ ì˜ë¯¸í•˜ëŠ”ê°€?  
ì´ëŠ” ë¸ë¦¬ê²Œì´íŠ¸ê°€ ì°¸ì¡°í•  ë©”ì„œë“œì˜ í˜•íƒœë¥¼ ì •ì˜í•œ ê²ƒìœ¼ë¡œ ë³¼ ìˆ˜ ìˆë‹¤.

ìœ„ì˜ ì˜ˆì‹œì—ì„œ `Student` í´ë˜ìŠ¤ì˜ `getName()`ì€ ë¸ë¦¬ê²Œì´íŠ¸ì˜ ë¦¬í„´íƒ€ì… ë° ì…ë ¥ íŒŒë¼ë¯¸í„°ì™€ ê°™ë‹¤.  
ë•Œë¬¸ì— `MyTestDG`ëŠ” `getName()`ì„ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤.

<br>
<br>

### ë©”ì„œë“œë¥¼ ì°¸ì¡°í•˜ëŠ” ë°©ë²•ì„ ë³´ì—¬ì£¼ì„¸ìš”

ë¸ë¦¬ê²Œì´íŠ¸ ê°ì²´ë¥¼ ë©”ì„œë“œë¥¼ ì¸ìë¡œ ì¶”ê°€í•˜ì—¬ ìƒì„±í•œë‹¤.
ë¸ë¦¬ê²Œì´íŠ¸ëŠ” ì „ë‹¬ë°›ì€ ë©”ì„œë“œë¥¼ ë‹¤ë¥¸ ë©”ì„œë“œì— íŒŒë¼ë¯¸í„°ë¡œì„œ ì „ë‹¬í•´ì£¼ëŠ” 'ëŒ€ë¦¬ì'ë¡œì„œì˜ ì„ë¬´ë¥¼ ìˆ˜í–‰í•œë‹¤.

```csharp
class Program
{
    static void Main(string[] args)
    {
        Student boy = new Student();
        boy.Name = "ê°€ë‚˜ë‹¤ë¼ë§ˆë°”ì‚¬";

        MyTestDG m = new MyTestDG(boy.getName);

        runDeligate(m);
    }

    static void runDeligate(MyTestDG method)
    {
        int num = 3;
        string result = method(num);     // .Invoke()ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¸ë¦¬ê²Œì´íŠ¸ì— ì°¸ì¡°ëœ ë©”ì„œë“œë¥¼ ì‹¤í–‰ì‹œí‚¨ë‹¤. (ìƒëµê°€ëŠ¥)
        Console.WriteLine(result);      // ê²°ê³¼: ê°€ë‚˜ë‹¤
    }
}

// ë¸ë¦¬ê²Œì´íŠ¸ ì„ ì–¸
delegate string MyTestDG(int num);

// í•™ìƒ í´ë˜ìŠ¤
internal class Student
{
    public int Id { get; set; }
    public string? Name { get; set; }

    // í•™ìƒ ì´ë¦„ì„ nê¸€ì ë¶ˆëŸ¬ì˜¤ëŠ” ë©”ì„œë“œ
    public string getName(int num)
    {
        string result = string.Empty;

        return Name.Substring(0, num);
    }
}

```

<br>
<br>

### ... ë‹¤ ì•Œê² ëŠ”ë° ì´ê²Œ ì–´ë–»ê²Œ ì“°ì´ë‚˜ìš”?

```csharp
public static bool work1()
{
  //...
}
public static bool work2()
{
  //...
}
public static bool work3()
{
  //...
}

public static void success1()
{
  //...
}
public static void success2()
{
  //...
}

public static void failure1()
{
  //...
}

public static void failure2()
{
  //...
}

public static void SuccessFailHelper(Func<bool> work, Action success, Action failure)
{
  if (work())
    success();
  else
    failure();
}

static void Main(string[] args)
{
  SuccessFailHelper(work1, success1, failure1);
  SuccessFailHelper(work1, success2, failure2);
}
```

<br>
<br>
<br>
<br>

### ì¶œì²˜

https://www.csharpstudy.com/CSharp/CSharp-delegate-concept.aspx

https://huiyu.tistory.com/entry/C-%EA%B8%B0%EC%B4%88-%EC%9D%B4%EB%B2%A4%ED%8A%B8%EC%99%80-%EB%8D%B8%EB%A6%AC%EA%B2%8C%EC%9D%B4%ED%8A%B8-Event-Delegate

https://learn.microsoft.com/ko-kr/dotnet/csharp/programming-guide/delegates/

https://developer-talk.tistory.com/207

[jekyll-docs]: https://jekyllrb.com/docs/home
[jekyll-gh]: https://github.com/jekyll/jekyll
[jekyll-talk]: https://talk.jekyllrb.com/
